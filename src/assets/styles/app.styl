// @import url("/count/35bace")
@import '../../../node_modules/rupture/index.styl'

@import 'reset'
@import 'typography'
@import 'colors'

@keyframes shake
  10%, 90%
    transform: translate3d(-1px, 0, 0)
  
  20%, 80%
    transform: translate3d(2px, 0, 0)

  30%, 50%, 70%
    transform: translate3d(-4px, 0, 0)

  40%, 60%
    transform: translate3d(4px, 0, 0)

@keyframes show
	0%
		max-height: 0
		margin-top: 0
	
	100%
		margin-top: space-3
		max-height: 5rem

@keyframes hide
	0%
		max-height: 5rem
	
	100%
		max-height: 0

body, html
	width: 100%
	background: white
	font-weight: 300
	color: black
	font-size: 22px
	font-family: BodyFace
	line-height: 1.35
	letter-spacing: 0.005em
	
	+below(500px)
		font-size: 18px

main
	width: 90%
	max-width: 28rem
	margin: auto
	padding-top: space-5
	padding-bottom: 50vh

a
	color: red

footer
	width: 90%
	max-width: 28rem
	margin: auto
	padding: 1rem 0
	display: flex
	justify-content: space-between
	font-size: 80%

	+below(700px)
		flex-direction: column
		font-size: 100%

		& > *
			margin-bottom: 0.25rem

h1, h2, h3
	font-weight: bold

h1
	font-size: size-2
	text-transform: uppercase
	letter-spacing: 0.05em
	line-height: 0.9
	margin-bottom: space-4
	display: inline-block
	font-family: HeadlineFace
	color: red

	.kern
		letter-spacing: -0.025em

	+below(400px)
		font-size: size-2 * 0.9

h2
	font-size: size-3
	text-transform: uppercase
	letter-spacing: 0.05em
	line-height: 0.9
	margin-bottom: space-4
	font-family: HeadlineFace
	color: red

h3
	font-size: size-5
	line-height: 0.9
	margin-bottom: space-2
	font-family: HeadlineFace
	// text-decoration: underline
	// text-decoration-skip: ink

p
	font-size: size-5

	& + p
		margin-top: space-3
	
	& + h2
		margin-top: space-5

	& + h3
		margin-top: space-4

	&.intro
		font-size: size-4
		line-height: 1.3
		padding-bottom: space-4

form, input, button, label
	&:focus
		outline: none

form
	display: block

	&.success
		.input-wrapper
			animation: hide 0.5s ease forwards

		.form-outcome
			&.success
				animation: show 0.5s ease forwards

	&.error
		.input-wrapper
			animation: shake 1s ease
			border-bottom: 2px solid red

		.form-outcome
			&.error
				animation: show 0.5s ease forwards

	&#email-subscription
		margin-bottom: space-6

		&.submitting
			button
				transform: translateY(-0.5rem) rotate(90deg)

		.input-wrapper
			display: flex
			transform: translate3d(0, 0, 0)
			backface-visibility: hidden
			perspective: 1000px
			border-bottom: 2px solid black
			transition: border-bottom 0.5s ease
			overflow: hidden

		label
			margin-bottom: space-3
			display: block

		button
			padding: 0
			padding-right: 0.5rem
			padding-left: 1rem
			flex-shrink: 0
			font-size: size-4 * 1.2
			transition: transform 0.5s ease
			transform: translateX(0)
			pointer: cursor

			&:hover
				transform: translateX(0.4rem)

			&:active
				transform: translateX(0.7rem)
	
	button, input
		font-size: size-4
		border: 0
		background: transparent
		border-radius: 0
		font-family: BodyFace

	button
		pointer: cursor

	input
		padding: space-1 0
		width: 100%
	
	.form-outcome
		max-height: 0
		margin-top: 0
		overflow: hidden

		&.error
			color: red
	
.red
	color: red

#family-steps
	display: flex
	justify-content: space-between
	align-items: flex-start
	margin-bottom: space-5

	.input-wrapper
		margin-right: space-3
		font-size: size-6

		label
			opacity: 0.5
	
	+below(400px)
		flex-direction: column

		.input-wrapper
			margin-bottom: space-3
	
	button
		font-size: size-6
		text-transform: uppercase
		border: 2px solid black
		border-radius: 2px
		padding: space-1 space-3
		flex: 0 0 auto
		transition: background 0.3s ease, color 0.3s ease

		span
			display: inline-block
			transition: transform 0.3s ease

		&:hover
			span
				transform: translateX(space-2)

	input
		border-bottom: 2px solid black
		margin-bottom: space-2

.result
	margin-bottom: space-5

	ul
		display: flex
		justify-content: flex-start
		align-items: flex-end

		li
			margin-right: 1rem
			flex: 0 0 auto
			display: flex
			flex-direction: column
			align-items: center
			position: relative
			
			.value
				padding-top: space-1
				font-size: size-6 * 0.8
				color: red
				position: absolute
				bottom: -1.25rem

			.bar
				background: black
			
				&.vertical
					display: block

				&.horizontal
					display: none
		
		+below(400px)
			flex-direction: column
			align-items: flex-start
			justify-content: flex-start

			li
				margin-right: 0
				margin-bottom: 1rem
				flex-direction: row-reverse
				padding-left: 2rem

				.bar.vertical
					display: none
				
				.bar.horizontal
					display: block

				.value
					position: absolute
					bottom: auto
					left: 0rem
	
#credits
	font-size: 1rem
	padding-top: space-5